<div class="row justify-content-center">
  <div class="col-md-8 col-lg-6">

    <div class=row mb-4>
      <div class="col text-center">
        <h1 class="h3">プロフィール編集</h1>
      </div>
    </div>

    <%= form_with model: @customer, url: mypage_path, method: :patch do |f| %> 
      <%= render "layouts/error_messages", model: f.object %>
    
      <div class="mb-2">
        <%= f.label :name, class: 'form-label' %>
        <%= f.text_field :name, class: 'form_control', autofocus: true %>
      </div>

      <div class="mb-2">
        <%= f.label :profile_image, class: 'form-label' %>
        <%= image_tag @customer.get_profile_image(100,100) %>
        <%= f.file_field :profile_image, class: 'form-control', accept: "image/*" %>
      </div>

      <div class="mb-2">
        <%= f.label :self_introduction, class: 'form-label' %>
        <%= f.text_area :self_introduction, rows: 8, class: 'form-control' %>
      </div>

      <div class="d-grid mb-2">
        <%= f.submit "変更を保存", class: 'btn btn-primary w-100' %>
      </div>

      <div>
        <%= link_to "退会", unsubscribe_path(current_customer.id) %>
      </div>

    <% end %>
  </div>
</div>